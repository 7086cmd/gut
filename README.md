# gut

A Rust CLI tool that wraps git, providing smart subcommand inference, commit message formatting, config-driven hooks, and convenient shortcuts.

## Features
- Auto-infer git subcommands from short abbreviations or typos
- `gut commit` takes the last argument as the commit message
- Auto-format commit messages: write `feat:xxx` or `feat(scope):xxx` and gut converts it to `<corresponding emoji> feat: xxx` or `<emoji> feat(scope): xxx`
- Supports many conventional commit types (feat, fix, docs, refactor, test, chore, build, style, ci, perf, revert) and custom types via config
- Supports commit message formatting modes: `upper_case`/`lower_case` (configurable)
- Supports custom emoji mapping for commit types ("footer") via `gut.config.json`
- Can create a repo via a 'template' (clone a repo, delete .git, re-init)
- `gut branch` auto-switches to the created branch
- `gut log` outputs a dense, configurable log (default: latest 10, short id + message, info level configurable)
- `gut rlog` outputs a reversed log, following `log` config
- `gut tlog` outputs a tree log: latest N commits from all branches, current branch ranked first, dense or detailed (configurable)
- Configurable global git hooks via `gut.config.json` (auto-generated in `.git/hooks`)
- Other commands not changed by gut are passed directly to git

## Configuration (`gut.config.json`)
- `hooks`: List of git hooks to auto-generate
- `log`/`tlog`: Configure log count and info level (`less`/`more`)
- `commit`: Configure commit message formatting mode and custom emoji mapping for commit types (footer)

Example:
```json
{
  "commit": {
    "format_mode": "upper_case",
    "footer_emoji": {
      "feat": "‚ú®",
      "fix": "üêõ",
      "custom": "üåü"
    }
  },
  "log": { "count": 10, "info": "less" },
  "tlog": { "count": 20, "info": "more" },
  "hooks": [
    { "name": "pre-commit", "commands": ["echo Pre-commit hook"] }
  ]
}
```

## Getting Started
1. Build: `cargo build --release`
2. Run: `cargo run -- <args>`
3. Install globally: `cargo install --path .`

## License and Other
This project is licensed under MIT license. Code mainly generated by Copilot Agent and GPT. Any issues or contributions welcomed!
